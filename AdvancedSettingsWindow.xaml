<Window x:Class="DiskBenchmark.AdvancedSettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        Title="é«˜çº§è®¾ç½®" Height="500" Width="550"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="æ€§èƒ½å‚æ•°" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="å—å¤§å° (KB):" VerticalAlignment="Center" Margin="0,0,10,10" FontSize="13" FontWeight="SemiBold"/>
                            <ComboBox Grid.Row="0" Grid.Column="1" x:Name="BlockSizeComboBox" 
                                     hc:InfoElement.Placeholder="é€‰æ‹©å—å¤§å°"
                                     Margin="0,0,0,10"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="çº¿ç¨‹æ•°:" VerticalAlignment="Center" Margin="0,0,10,10" FontSize="13" FontWeight="SemiBold"/>
                            <hc:TextBox Grid.Row="1" Grid.Column="1" x:Name="ThreadCountTextBox" 
                                       hc:InfoElement.Placeholder="çº¿ç¨‹æ•° (1-128)"
                                       Margin="0,0,0,10"
                                       PreviewTextInput="NumberValidationTextBox"
                                       LostFocus="ThreadCountTextBox_LostFocus"/>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="é˜Ÿåˆ—æ·±åº¦:" VerticalAlignment="Center" Margin="0,0,10,0" FontSize="13" FontWeight="SemiBold"/>
                            <hc:TextBox Grid.Row="2" Grid.Column="1" x:Name="QueueDepthTextBox" 
                                       hc:InfoElement.Placeholder="é˜Ÿåˆ—æ·±åº¦ (1-256)"
                                       PreviewTextInput="NumberValidationTextBox"
                                       LostFocus="QueueDepthTextBox_LostFocus"/>
                        </Grid>
                    </StackPanel>
                </hc:Card>

                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="FIOè®¾ç½®" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
                        <CheckBox x:Name="UseFIOCheckBox" Content="ä½¿ç”¨FIOè¿›è¡Œæµ‹è¯•" Margin="0,0,0,15"/>
                        
                        <TextBlock Text="FIOå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„:" FontSize="13" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <Grid Margin="0,0,0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <hc:TextBox x:Name="FioPathTextBox" Grid.Column="0" 
                                       hc:InfoElement.Placeholder="FIOå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„"
                                       Margin="0,0,10,0"
                                       TextChanged="FioPathTextBox_TextChanged"/>
                            <Button Grid.Column="1" Click="BrowseFioPath_Click"
                                    Width="40">
                                <TextBlock Text="ðŸ“" FontSize="18"/>
                            </Button>
                        </Grid>
                        <TextBlock x:Name="FioVersionText" Text="FIOç‰ˆæœ¬: --" 
                                   FontSize="12" Foreground="Gray" Margin="0,0,0,15"/>

                        <TextBlock Text="IOå¼•æ“Ž:" FontSize="13" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <ComboBox x:Name="IOEngineComboBox" 
                                  hc:InfoElement.Placeholder="é€‰æ‹©IOå¼•æ“Ž"
                                  Margin="0,0,0,5">
                            <ComboBoxItem Content="windowsaio" IsSelected="True"/>
                            <ComboBoxItem Content="sync"/>
                            <ComboBoxItem Content="psync"/>
                            <ComboBoxItem Content="libaio"/>
                        </ComboBox>
                        <TextBlock Text="windowsaio: Windowså¼‚æ­¥IOï¼ˆæŽ¨èï¼‰&#x0a;sync: åŒæ­¥IO&#x0a;psync: ä¼ªåŒæ­¥IO&#x0a;libaio: Linuxå¼‚æ­¥IO" 
                                   FontSize="12" Foreground="Gray" Margin="0,0,0,15" TextWrapping="Wrap"/>

                        <CheckBox x:Name="UseThreadCheckBox" Content="ä½¿ç”¨--threadå‚æ•°" Margin="0,0,0,5"/>
                        <TextBlock Text="å¯ç”¨åŽï¼Œfioå°†ä½¿ç”¨çº¿ç¨‹æ¨¡å¼æ‰§è¡ŒIOæ“ä½œï¼Œå¯ä»¥æé«˜æ€§èƒ½" 
                                   FontSize="12" Foreground="Gray" Margin="20,0,0,0" TextWrapping="Wrap"/>

                        <CheckBox x:Name="TimeBasedCheckBox" Content="ä½¿ç”¨åŸºäºŽæ—¶é—´çš„æµ‹è¯•ï¼ˆtime_basedï¼‰" Margin="0,0,0,5"/>
                        <TextBlock Text="å¯ç”¨åŽï¼Œæµ‹è¯•å°†è¿è¡ŒæŒ‡å®šçš„æ—¶é—´é•¿åº¦ï¼Œè€Œä¸æ˜¯å¤„ç†å®ŒæŒ‡å®šå¤§å°çš„æ•°æ®" 
                                   FontSize="12" Foreground="Gray" Margin="20,0,0,0" TextWrapping="Wrap"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Padding="15">
                    <StackPanel>
                        <TextBlock Text="IOè®¾ç½®" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
                        <CheckBox x:Name="UseDirectIOCheckBox" Content="ä½¿ç”¨ç›´æŽ¥IOï¼ˆç»•è¿‡ç¼“å­˜ï¼‰" Margin="0,0,0,5"/>
                        <TextBlock Text="å¯ç”¨ç›´æŽ¥IOå¯ä»¥ç»•è¿‡ç³»ç»Ÿç¼“å­˜ï¼ŒèŽ·å¾—æ›´çœŸå®žçš„ç£ç›˜æ€§èƒ½æ•°æ®" 
                                   FontSize="12" Foreground="Gray" Margin="20,0,0,0" TextWrapping="Wrap"/>
                    </StackPanel>
                </hc:Card>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button Click="OK_Click" IsDefault="True"
                    Margin="0,0,10,0"
                    Background="#2196F3" Foreground="White" Padding="10,5">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="âœ“" FontSize="16" VerticalAlignment="Center" Margin="0,0,5,0"/>
                    <TextBlock Text="ç¡®å®š"/>
                </StackPanel>
            </Button>
            <Button Click="Cancel_Click" IsCancel="True"
                    Padding="10,5">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="âœ•" FontSize="14" VerticalAlignment="Center" Margin="0,0,5,0"/>
                    <TextBlock Text="å–æ¶ˆ"/>
                </StackPanel>
            </Button>
        </StackPanel>
    </Grid>
</Window>
