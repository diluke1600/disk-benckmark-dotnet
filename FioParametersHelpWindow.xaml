<Window x:Class="DiskBenchmark.FioParametersHelpWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        Title="FIO参数说明" Height="600" Width="700"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <TextBlock Text="FIO参数说明" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>
                
                <hc:Card Margin="0,0,0,15" Padding="15" Background="#E3F2FD">
                    <StackPanel>
                        <TextBlock Text="FIO Windows 版本下载" FontSize="18" FontWeight="Bold" Margin="0,0,0,10" Foreground="#1976D2"/>
                        <TextBlock Text="FIO (Flexible I/O Tester) 是一个强大的磁盘性能测试工具。" Margin="0,0,0,10"/>
                        <TextBlock Text="Windows 版本下载地址：" FontSize="14" FontWeight="SemiBold" Margin="0,5,0,5"/>
                        <TextBlock Margin="0,0,0,5">
                            <Hyperlink NavigateUri="https://github.com/axboe/fio/releases" RequestNavigate="Hyperlink_RequestNavigate">
                                <Run Text="https://github.com/axboe/fio/releases" Foreground="#1976D2"/>
                            </Hyperlink>
                        </TextBlock>
                        <TextBlock Text="或者访问 FIO 官方网站：" FontSize="14" FontWeight="SemiBold" Margin="0,10,0,5"/>
                        <TextBlock Margin="0,0,0,5">
                            <Hyperlink NavigateUri="https://fio.readthedocs.io/" RequestNavigate="Hyperlink_RequestNavigate">
                                <Run Text="https://fio.readthedocs.io/" Foreground="#1976D2"/>
                            </Hyperlink>
                        </TextBlock>
                        <TextBlock Text="提示：下载后请将 fio.exe 放置在系统 PATH 路径中，或在本工具的高级设置中指定 fio.exe 的完整路径。" 
                                   FontSize="12" Foreground="Gray" Margin="0,10,0,0" TextWrapping="Wrap"/>
                    </StackPanel>
                </hc:Card>
                
                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="--name" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="作业名称，用于标识测试任务" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="--filename" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="测试文件路径，fio将在此路径创建测试文件" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="--size" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="测试文件大小，例如：100M表示100MB。当不使用time_based时，测试将处理完指定大小的数据后结束" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="--bs" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="块大小，每次IO操作的数据块大小，例如：512K表示512KB。块大小影响IOPS和吞吐量的测试结果" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="--rw" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="读写模式：read(顺序读)、write(顺序写)、randread(随机读)、randwrite(随机写)、readwrite(混合读写)" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="--iodepth" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="队列深度，同时提交给设备的IO请求数量。较大的队列深度可以提高性能，但也会增加延迟" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="--numjobs" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="线程数，并发执行的作业数量。多个线程可以模拟多用户并发访问场景" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="--ioengine" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="IO引擎类型：windowsaio(Windows异步IO，推荐)、sync(同步IO)、psync(伪同步IO)、libaio(Linux异步IO)" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="--runtime" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="运行时间（秒），指定测试运行的持续时间。需要配合--time_based使用" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="--time_based" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="基于时间的测试模式。启用后，测试将运行指定的时间长度，而不是处理完指定大小的数据。这样可以确保测试时间的一致性" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="--direct" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="直接IO模式。设置为1时，IO操作将绕过系统缓存，直接访问磁盘，获得更真实的磁盘性能数据" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="--thread" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="使用线程模式执行IO操作。启用后，fio将使用线程而不是进程来执行IO，可以提高性能并减少资源消耗" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Margin="0,0,0,15" Padding="15">
                    <StackPanel>
                        <TextBlock Text="--rwmixread" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="混合读写测试中的读取比例（百分比）。例如：50表示读写各占50%" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>

                <hc:Card Padding="15">
                    <StackPanel>
                        <TextBlock Text="--output-format" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="输出格式：normal(普通文本格式)、json(JSON格式)" Margin="0,0,0,10"/>
                    </StackPanel>
                </hc:Card>
            </StackPanel>
        </ScrollViewer>

        <Button Grid.Row="1" Click="Close_Click" 
                HorizontalAlignment="Right" Margin="0,15,0,0"
                Padding="10,5">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="✕" FontSize="14" VerticalAlignment="Center" Margin="0,0,5,0"/>
                <TextBlock Text="关闭"/>
            </StackPanel>
        </Button>
    </Grid>
</Window>
