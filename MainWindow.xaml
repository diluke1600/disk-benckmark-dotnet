<Window x:Class="DiskBenchmark.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:local="clr-namespace:DiskBenchmark"
        Title="ç£ç›˜æ€§èƒ½æµ‹è¯•å·¥å…·" Height="650" Width="1200"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- èœå•æ  -->
        <Border Grid.Row="0" Background="#2196F3" Padding="0">
            <Menu>
                <MenuItem Header="è®¾ç½®(_S)">
                    <MenuItem Header="é«˜çº§è®¾ç½®(_A)" Click="AdvancedSettings_Click">
                        <MenuItem.Icon>
                            <TextBlock Text="âš™" FontSize="14"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
                <MenuItem Header="å¸®åŠ©(_H)">
                    <MenuItem Header="FIOå‚æ•°è¯´æ˜Ž(_F)" Click="FioParametersHelp_Click">
                        <MenuItem.Icon>
                            <TextBlock Text="?" FontSize="14" FontWeight="Bold"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="å…³äºŽ(_A)" Click="About_Click">
                        <MenuItem.Icon>
                            <TextBlock Text="â„¹" FontSize="14"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
            </Menu>
        </Border>

        <!-- é…ç½®åŒºåŸŸ -->
        <hc:Card Grid.Row="1" Margin="15,10,15,10" Padding="15">
            <StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="âš™" FontSize="20" VerticalAlignment="Center" Margin="0,0,8,0"/>
                    <TextBlock Text="æµ‹è¯•é…ç½®" FontSize="18" FontWeight="Bold"/>
                    <TextBlock x:Name="FioVersionText" Text="" 
                               FontSize="12" Foreground="Gray" 
                               Margin="20,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
                
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="80"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="80"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="80"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- æµ‹è¯•è·¯å¾„ -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="æµ‹è¯•è·¯å¾„" 
                               FontSize="13" FontWeight="SemiBold"
                               VerticalAlignment="Center" Margin="0,0,8,8"/>
                    <Grid Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="7" Margin="0,0,0,8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <hc:TextBox x:Name="TestPathTextBox" Grid.Column="0" 
                                    hc:InfoElement.Placeholder="é€‰æ‹©æµ‹è¯•è·¯å¾„"
                                    Margin="0,0,8,0" Height="28"/>
                        <Button Grid.Column="1" Click="BrowsePath_Click"
                                ToolTip="æµè§ˆæ–‡ä»¶å¤¹"
                                Width="35" Height="28"
                                Background="#2196F3" Foreground="White">
                            <TextBlock Text="ðŸ“" FontSize="16"/>
                        </Button>
                    </Grid>

                    <!-- æµ‹è¯•ç±»åž‹ -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="æµ‹è¯•ç±»åž‹" 
                               FontSize="13" FontWeight="SemiBold"
                               VerticalAlignment="Center" Margin="0,0,8,0"/>
                    <ComboBox Grid.Row="1" Grid.Column="1" x:Name="TestTypeComboBox" 
                              hc:InfoElement.Placeholder="é€‰æ‹©æµ‹è¯•ç±»åž‹"
                              Margin="0,0,0,0" Height="28"/>

                    <!-- æ–‡ä»¶å¤§å° -->
                    <TextBlock Grid.Row="1" Grid.Column="3" Text="æ–‡ä»¶å¤§å°" 
                               FontSize="13" FontWeight="SemiBold"
                               VerticalAlignment="Center" Margin="0,0,8,0"/>
                    <ComboBox Grid.Row="1" Grid.Column="4" x:Name="FileSizeComboBox" 
                              hc:InfoElement.Placeholder="é€‰æ‹©æ–‡ä»¶å¤§å°"
                              Margin="0,0,0,0" Height="28"/>

                    <!-- æŒç»­æ—¶é—´ -->
                    <TextBlock Grid.Row="1" Grid.Column="6" Text="æŒç»­æ—¶é—´" 
                               FontSize="13" FontWeight="SemiBold"
                               VerticalAlignment="Center" Margin="0,0,8,0"/>
                    <Grid Grid.Row="1" Grid.Column="7">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <hc:TextBox Grid.Column="0" x:Name="DurationTextBox" 
                                    hc:InfoElement.Placeholder="æŒç»­æ—¶é—´"
                                    Height="28" Margin="0,0,5,0"
                                    PreviewTextInput="NumberValidationTextBox"
                                    LostFocus="DurationTextBox_LostFocus"/>
                        <TextBlock Grid.Column="1" Text="ç§’" 
                                   FontSize="13" VerticalAlignment="Center"
                                   Foreground="Gray"/>
                    </Grid>
                </Grid>
            </StackPanel>
        </hc:Card>

        <!-- å‘½ä»¤é¢„è§ˆ -->
        <hc:Card Grid.Row="2" Margin="15,0,15,10" Padding="15">
            <StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="&lt;/&gt;" FontSize="18" VerticalAlignment="Center" Margin="0,0,8,0" FontFamily="Consolas"/>
                    <TextBlock Text="å¾…æ‰§è¡Œå‘½ä»¤" FontSize="16" FontWeight="Bold"/>
                </StackPanel>
                <hc:TextBox x:Name="CommandPreviewTextBox" 
                            IsReadOnly="True" 
                            TextWrapping="Wrap"
                            AcceptsReturn="True"
                            VerticalScrollBarVisibility="Auto"
                            HorizontalScrollBarVisibility="Auto"
                            hc:InfoElement.Placeholder="å‘½ä»¤é¢„è§ˆ"
                            FontFamily="Consolas"
                            FontSize="11"
                            MaxHeight="80"
                            MinHeight="35"
                            ToolTip="åŒå‡»å¤åˆ¶å‘½ä»¤åˆ°å‰ªè´´æ¿"
                            MouseDoubleClick="CommandPreviewTextBox_MouseDoubleClick">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="å¤åˆ¶" Click="CopyCommand_Click"/>
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </hc:TextBox>
            </StackPanel>
        </hc:Card>

        <!-- æµ‹è¯•ç»“æžœ -->
        <hc:Card Grid.Row="3" Margin="15,0,15,10" Padding="15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="5"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- å·¦ä¾§ï¼šåŸºæœ¬æµ‹è¯•ç»“æžœ -->
                <StackPanel Grid.Column="0">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBlock Text="ðŸ“Š" FontSize="18" VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <TextBlock Text="æµ‹è¯•ç»“æžœ" FontSize="16" FontWeight="Bold"/>
                    </StackPanel>
                    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="è¯»å–é€Ÿåº¦" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" x:Name="ReadSpeedText" Text="-- MB/s" 
                                       FontSize="13" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="å†™å…¥é€Ÿåº¦" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" x:Name="WriteSpeedText" Text="-- MB/s" 
                                       FontSize="13" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="è¯»å–IOPS" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" x:Name="ReadIOPSText" Text="--" 
                                       FontSize="13" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="å†™å…¥IOPS" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="3" Grid.Column="1" x:Name="WriteIOPSText" Text="--" 
                                       FontSize="13" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="4" Grid.Column="0" Text="è¯»å–å»¶è¿Ÿ" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="4" Grid.Column="1" x:Name="ReadLatencyText" Text="-- ms" 
                                       FontSize="13" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="5" Grid.Column="0" Text="å†™å…¥å»¶è¿Ÿ" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="5" Grid.Column="1" x:Name="WriteLatencyText" Text="-- ms" 
                                       FontSize="13" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            
                            <Separator Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="2" Margin="0,8,0,8"/>
                            
                            <TextBlock Grid.Row="7" Grid.Column="0" Text="çŠ¶æ€" FontSize="12" FontWeight="SemiBold"/>
                            <TextBlock Grid.Row="7" Grid.Column="1" x:Name="StatusText" Text="å°±ç»ª" 
                                       FontSize="13" FontWeight="SemiBold"/>
                        </Grid>
                    </ScrollViewer>
                    <TextBlock x:Name="ProgressText" Text="" Margin="0,8,0,0" 
                               FontSize="11" Foreground="Gray"
                               TextWrapping="Wrap"/>
                </StackPanel>
                
                <!-- åˆ†éš”çº¿ -->
                <Border Grid.Column="1" Background="LightGray" Width="1" Margin="0,5"/>
                
                <!-- å³ä¾§ï¼šè¯¦ç»†æµ‹è¯•æŠ¥å‘Š -->
                <StackPanel Grid.Column="2" Margin="10,0,0,0">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBlock Text="ðŸ“‹" FontSize="18" VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <TextBlock Text="è¯¦ç»†æŠ¥å‘Š" FontSize="16" FontWeight="Bold"/>
                    </StackPanel>
                    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="æµ‹è¯•æ—¶é—´" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" x:Name="DetailTestTimeText" Text="--" 
                                       FontSize="12" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="æµ‹è¯•è·¯å¾„" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" x:Name="DetailTestPathText" Text="--" 
                                       FontSize="12" TextWrapping="Wrap" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="æµ‹è¯•ç±»åž‹" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" x:Name="DetailTestTypeText" Text="--" 
                                       FontSize="12" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="æ–‡ä»¶å¤§å°" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="3" Grid.Column="1" x:Name="DetailFileSizeText" Text="--" 
                                       FontSize="12" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="4" Grid.Column="0" Text="å—å¤§å°" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="4" Grid.Column="1" x:Name="DetailBlockSizeText" Text="--" 
                                       FontSize="12" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="5" Grid.Column="0" Text="çº¿ç¨‹æ•°" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="5" Grid.Column="1" x:Name="DetailThreadCountText" Text="--" 
                                       FontSize="12" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="6" Grid.Column="0" Text="IOæ·±åº¦" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="6" Grid.Column="1" x:Name="DetailQueueDepthText" Text="--" 
                                       FontSize="12" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="7" Grid.Column="0" Text="æŒç»­æ—¶é—´" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="7" Grid.Column="1" x:Name="DetailDurationText" Text="--" 
                                       FontSize="12" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="8" Grid.Column="0" Text="FIOç‰ˆæœ¬" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="8" Grid.Column="1" x:Name="DetailFioVersionText" Text="--" 
                                       FontSize="12" Margin="0,0,0,8"/>
                            
                            <Separator Grid.Row="9" Grid.Column="0" Grid.ColumnSpan="2" Margin="0,8,0,8"/>
                            
                            <TextBlock Grid.Row="10" Grid.Column="0" Text="æµ‹è¯•å‘½ä»¤" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="10" Grid.Column="1" x:Name="DetailCommandText" Text="--" 
                                       FontSize="11" FontFamily="Consolas" TextWrapping="Wrap" Margin="0,0,0,8"/>
                            
                            <TextBlock Grid.Row="11" Grid.Column="0" Text="é”™è¯¯ä¿¡æ¯" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,8"/>
                            <TextBlock Grid.Row="11" Grid.Column="1" x:Name="DetailErrorMessageText" Text="--" 
                                       FontSize="12" TextWrapping="Wrap" Foreground="Red" Margin="0,0,0,8"/>
                        </Grid>
                    </ScrollViewer>
                </StackPanel>
            </Grid>
        </hc:Card>

        <!-- æŒ‰é’®åŒºåŸŸ -->
        <hc:Card Grid.Row="4" Margin="15,0,15,15" Padding="15">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="StartTestButton" Click="StartTest_Click"
                        Margin="5"
                        Background="#2196F3" Foreground="White" Padding="10,5">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="â–¶" FontSize="14" VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <TextBlock x:Name="StartTestButtonText" Text="å¼€å§‹æµ‹è¯•" FontSize="14"/>
                    </StackPanel>
                </Button>
                <Button x:Name="StopTestButton" Click="StopTest_Click" IsEnabled="False"
                        Margin="5"
                        Padding="10,5">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="â– " FontSize="14" VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <TextBlock Text="åœæ­¢æµ‹è¯•" FontSize="14"/>
                    </StackPanel>
                </Button>
                <Button x:Name="ViewHistoryButton" Click="ViewHistory_Click"
                        Margin="5"
                        Padding="10,5">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="ðŸ•" FontSize="14" VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <TextBlock Text="æŸ¥çœ‹åŽ†å²" FontSize="14"/>
                    </StackPanel>
                </Button>
                <Button x:Name="ResetConfigButton" Click="ResetConfig_Click"
                        Margin="5"
                        Padding="10,5">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="â†»" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <TextBlock Text="é‡ç½®é…ç½®" FontSize="14"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </hc:Card>
    </Grid>

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <local:InverseBooleanConverter x:Key="InverseBoolConverter"/>
    </Window.Resources>
</Window>
